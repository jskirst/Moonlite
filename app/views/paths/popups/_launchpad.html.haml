%div#launchpad.modal.hide.fade{ style: "left: 38%; top: 30%;"}
  %div.overlay
    %div.launchpad
      %h1
        = image_tag(@path.path_pic)
        %span #{@path.name} - #{@total_points_earned} pts, Level #{current_user.level(@path)}
        %button.close{ style: "float:right; margin: 10px 0 0 0; background-color: transparent;", onclick: "$(this).parents('.modal').modal('hide');" } &times;
      %div.launchpadcontent
        %div.launchpadsectioncolumn
          %div.launchpadcolumnheader
            Sections
          %ul.sectionlist
            - @path.sections.each do |s|
              %li.launchpad_link
                = link_to s.name, launchpad_section_path(s), remote: true, style: "text-decoration: none;"+(s.unlocked?(current_user) ? "font-weight: bold" : "") 
                %div.pointsandprogress
                  %div #{s.points_earned(current_user)} points
                  %div #{s.percentage_complete(current_user)}%   
        = render "sections/launchpad"

- if display
  :javascript
    $(function(){
      $('#launchpad').modal({
        keyboard: true,
        backdrop: 'static',
        show: true
      });
    });

:javascript
  $(function(){
    $(".userctrlpanel").click(function(){
      $('#launchpad').modal({
        keyboard: true,
        show: true
      });
    });
     
    $(".launchpad_link").on("ajax:success", function(xhr, data, etc){
      $(".sectioninfocontainer").replaceWith(data);
    });
  });                      
