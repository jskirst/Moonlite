<h1>New Achievement</h1>
<%= form_for @achievement do |f| %>
  <%= render "shared/error_messages", :object => f.object %>
  <div class="field clearfix">
    <%= f.label :name %>
    <div class="input">
      <%= f.text_field :name, :maxlength => 255, :size => 75 %>
    </div>
  </div>
  <div class="field clearfix">
    <%= f.label :description %>
    <div class="input">
      <%= f.text_field :description, :maxlength => 255, :size => 75 %>
    </div>
  </div>
  <div class="field clearfix">
    <%= f.label :points %>
    <div class="input">
      <select id="achievement_points" name="achievement[points]">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="25">25</option>
      </select>
    </div>
  </div>
  <div>
    <h2>Criteria</h2>
    <% if @categories.empty? %>
      <p style="margin: 20px 0px 20px 20px;">You have not yet created any <%= name_for_paths.pluralize %> yet. You need to create at least one <%= name_for_paths %> to create an achievement.</p>
    <% else %>
      <p style="margin: 20px 0px 20px 20px;">Select which <%= name_for_paths.pluralize %> must be completed for the user to unlock the achievement.</p>
      <ul style="list-style-type: none;">
      <% @categories.each do |c| %>
        <li>
          <h5><%= c.name %></h5>
          <ol>
          <% c.paths.each do |p| %>
            <li>
                <span><%= p.name %></span>
                <input type="checkbox" name="achievement[paths][<%= p.id.to_s %>]" style="margin-left: 5px;"/>
            </li>
          <% end %>
          </ol>
        </li>
      <% end %>
      </ul>
    <% end %>
  </div>
  <div class="actions">
    <%= link_to "Back", achievements_path, :class => "btn secondary"  %>
    <%= f.submit "Save", :class => "btn primary" %>
  </div>
<% end %>