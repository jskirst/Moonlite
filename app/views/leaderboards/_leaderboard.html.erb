<%
  table_class = table_class || nil 
  display = "display: table;" || "display: none;" 
  leaderboard_id = leaderboard_id.to_s || nil
  disable_filler = disable_filler ||  false
  limit = limit || 10
%>

<table class="learderboard <%= table_class %>" style="<%= display %>" id="leaderboard_<%= leaderboard_id %>">
  <tr>
    <th>Rank</th>
    <th>User</th>
    <th style="width:40%"><%= @is_consumer ? "Motto" : "Completed Questions" %></th>
    <th>Score</th>
  </tr>
<% counter = 1 %>
<% leaderboard_entries.each do |entry| %>
  <% if (counter > limit) then break end %>
  <tr>
    <td><%= counter.to_s %></td>
    <td class="user-name"><%= link_to truncate(entry.user.name, :length => 25), entry.user %></td>
    <td style="width:50%" class="user-completed-tasks"><%= @is_consumer == true ? truncate(entry.user.catch_phrase.to_s, :length => 25) : entry.completed_tasks %></td>
    <td class="user-score"><%= entry.score %></td>
  </tr>
  <% counter += 1 %>
<% end %>
<% unless disable_filler %>
  <% unless counter >= 10 %>
    <% (counter..10).each do |i| %>
    <tr>
      <td><%= counter.to_s %></td>
      <td class="user-name">AAA</td>
      <td class="user-completed-tasks"><%= @is_consumer == true ? "" : 0 %></td>
      <td class="user-score">0</td>
    </tr>
    <% counter += 1 %>
    <% end %>
  <% end %>
<% end %>
</table>